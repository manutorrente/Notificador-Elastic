version: '3.8'

services:
  elastic-alert-notificator:
    build: .
    container_name: elastic-alert-notificator
    env_file:
      - .env
    environment:
      - PYTHONPATH=/app/src
      - PYTHONUNBUFFERED=1
      # Elasticsearch Configuration (can also be set in .env file)
      # - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
      # - ELASTICSEARCH_USERNAME=elastic
      # - ELASTICSEARCH_PASSWORD=changeme
      # - POLLING_INTERVAL=30
    volumes:
      - ./logs:/app/logs  # Optional: for persistent logs
    restart: unless-stopped
    # Graceful shutdown configuration
    stop_grace_period: 30s
    stop_signal: SIGTERM
